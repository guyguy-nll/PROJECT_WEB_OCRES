{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\33673\\\\Desktop\\\\ECE\\\\Inge4\\\\Semestre 1\\\\Technologie Web - Informatique\\\\PROJECT_WEB_OCRES\\\\frontend\\\\src\\\\App.js\";\nimport React from \"react\";\nimport Button from \"./components/button\";\nimport Movie from \"./components/movie\";\nimport Search from \"./components/search\";\nimport axios from \"axios\";\nimport { map } from \"lodash\";\nimport \"./App.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst BACKEND_BASE_URL = \"http://localhost:3001/movies/\";\nexport default class App extends React.Component {\n  constructor() {\n    super();\n    this.addFilmInputChange = event => {\n      this.setState({\n        addFilmInputValue: event.target.value\n      });\n      console.log(\"value is:\", event.target.value);\n    };\n    this.getList = () => {\n      axios.get(BACKEND_BASE_URL).then(data => data.data && data.data.meteos && this.setState({\n        meteos: data.data.meteos\n      }));\n    };\n    this.addMovie = () => {\n      axios.put(BACKEND_BASE_URL, {\n        meteo: this.state.addFilmInputValue\n      }).then(data => this.getList());\n    };\n    this.deleteMovie = id => {\n      axios.delete(`${BACKEND_BASE_URL}/${id}`).then(data => this.getList());\n    };\n    this.renderCategory = (label, action) => {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"category\",\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          text: label,\n          onClick: action\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 7\n      }, this);\n    };\n    this.state = {\n      meteos: [],\n      addFilmInputValue: \"\"\n    };\n  }\n  componentDidMount() {\n    this.getList();\n  }\n  render() {\n    const {\n      meteos,\n      addFilmInputValue\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [this.renderCategory(\"Refresh\", this.getList), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"category\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          id: \"addFilm\",\n          name: \"addFilm\",\n          onChange: this.addFilmInputChange,\n          value: addFilmInputValue\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Search, {\n          onSearchChange: this.addFilmInputChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          text: \"Add movie\",\n          onClick: this.addMovie\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"movies\",\n        children: map(meteos, (meteo, index) => /*#__PURE__*/_jsxDEV(Movie, {\n          infos: meteo,\n          deleteMovie: this.deleteMovie\n        }, `meteo-${index}`, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this);\n  }\n}","map":{"version":3,"names":["React","Button","Movie","Search","axios","map","BACKEND_BASE_URL","App","Component","constructor","addFilmInputChange","event","setState","addFilmInputValue","target","value","console","log","getList","get","then","data","meteos","addMovie","put","meteo","state","deleteMovie","id","delete","renderCategory","label","action","componentDidMount","render","index"],"sources":["C:/Users/33673/Desktop/ECE/Inge4/Semestre 1/Technologie Web - Informatique/PROJECT_WEB_OCRES/frontend/src/App.js"],"sourcesContent":["import React from \"react\";\r\nimport Button from \"./components/button\";\r\nimport Movie from \"./components/movie\";\r\nimport Search from \"./components/search\";\r\nimport axios from \"axios\";\r\nimport { map } from \"lodash\";\r\nimport \"./App.css\";\r\n\r\nconst BACKEND_BASE_URL = \"http://localhost:3001/movies/\";\r\n\r\nexport default class App extends React.Component {\r\n  constructor() {\r\n    super();\r\n\r\n    this.state = {\r\n      meteos: [],\r\n      addFilmInputValue: \"\",\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.getList();\r\n  }\r\n\r\n  addFilmInputChange = (event) => {\r\n    this.setState({ addFilmInputValue: event.target.value });\r\n\r\n    console.log(\"value is:\", event.target.value);\r\n  };\r\n\r\n  getList = () => {\r\n    axios\r\n      .get(BACKEND_BASE_URL)\r\n      .then(\r\n        (data) =>\r\n          data.data &&\r\n          data.data.meteos &&\r\n          this.setState({ meteos: data.data.meteos })\r\n      );\r\n  };\r\n\r\n  addMovie = () => {\r\n    axios\r\n      .put(BACKEND_BASE_URL, { meteo: this.state.addFilmInputValue })\r\n      .then((data) => this.getList());\r\n  };\r\n\r\n  deleteMovie = (id) => {\r\n    axios.delete(`${BACKEND_BASE_URL}/${id}`).then((data) => this.getList());\r\n  };\r\n\r\n  renderCategory = (label, action) => {\r\n    return (\r\n      <div className=\"category\">\r\n        <Button text={label} onClick={action} />\r\n      </div>\r\n    );\r\n  };\r\n\r\n  render() {\r\n    const { meteos, addFilmInputValue } = this.state;\r\n\r\n    return (\r\n      <div>\r\n        {this.renderCategory(\"Refresh\", this.getList)}\r\n        <div className=\"category\">\r\n          <input\r\n            type=\"text\"\r\n            id=\"addFilm\"\r\n            name=\"addFilm\"\r\n            onChange={this.addFilmInputChange}\r\n            value={addFilmInputValue}\r\n          />\r\n          <Search onSearchChange={this.addFilmInputChange} />\r\n          <Button text={\"Add movie\"} onClick={this.addMovie} />\r\n        </div>\r\n\r\n        <div className=\"movies\">\r\n          {map(meteos, (meteo, index) => (\r\n            <Movie\r\n              key={`meteo-${index}`}\r\n              infos={meteo}\r\n              deleteMovie={this.deleteMovie}\r\n            />\r\n          ))}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}