{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\matth\\\\OneDrive - Groupe INSEEC (POCE)\\\\Ing\\xE9 4\\\\web\\\\TP5_Correction-main\\\\frontend\\\\src\\\\App.js\";\nimport React from 'react';\nimport Button from './components/button';\nimport Movie from './components/movie';\nimport axios from 'axios';\nimport { map } from 'lodash';\nimport './App.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst BACKEND_BASE_URL = \"http://localhost:3001/movies/\";\nexport default class App extends React.Component {\n  constructor() {\n    super();\n    this.addFilmInputChange = event => {\n      this.setState({\n        addFilmInputValue: event.target.value\n      });\n      console.log('value is:', event.target.value);\n    };\n    this.getList = () => {\n      axios.get(BACKEND_BASE_URL).then(data => data.data && data.data.meteos && this.setState({\n        meteos: data.data.meteos\n      }));\n    };\n    this.addMovie = () => {\n      axios.put(BACKEND_BASE_URL, {\n        meteo: this.state.addFilmInputValue\n      }).then(data => this.getList());\n    };\n    this.deleteMovie = id => {\n      axios.delete(`${BACKEND_BASE_URL}/${id}`).then(data => this.getList());\n    };\n    this.renderCategory = (label, action) => {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"category\",\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          text: label,\n          onClick: action\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 5\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 13\n      }, this);\n    };\n    this.state = {\n      meteos: [],\n      addFilmInputValue: ''\n    };\n  }\n  componentDidMount() {\n    this.getList();\n  }\n  render() {\n    const {\n      meteos,\n      addFilmInputValue\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [this.renderCategory('Refresh', this.getList), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"category\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          id: \"addFilm\",\n          name: \"addFilm\",\n          onChange: this.addFilmInputChange,\n          value: addFilmInputValue\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          text: 'Add movie',\n          onClick: this.addMovie\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"meteos\",\n        children: map(meteos, (meteo, index) => /*#__PURE__*/_jsxDEV(Meteo, {\n          infos: meteo,\n          deleteMovie: this.deleteMovie\n        }, `movie-${index}`, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 42\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this);\n  }\n}","map":{"version":3,"names":["React","Button","Movie","axios","map","BACKEND_BASE_URL","App","Component","constructor","addFilmInputChange","event","setState","addFilmInputValue","target","value","console","log","getList","get","then","data","meteos","addMovie","put","meteo","state","deleteMovie","id","delete","renderCategory","label","action","componentDidMount","render","index"],"sources":["C:/Users/matth/OneDrive - Groupe INSEEC (POCE)/IngÃ© 4/web/TP5_Correction-main/frontend/src/App.js"],"sourcesContent":["import React from 'react';\nimport Button from './components/button';\nimport Movie from './components/movie';\nimport axios from 'axios';\nimport { map } from 'lodash';\nimport './App.css';\n\nconst BACKEND_BASE_URL = \"http://localhost:3001/movies/\";\n\nexport default class App extends React.Component {\n  constructor() {\n    super();\n    \n    this.state = {\n      meteos: [],\n      addFilmInputValue: ''   \n    }\n  }\n\n  componentDidMount() {\n    this.getList();\n  }\n\n  addFilmInputChange = event => {\n    this.setState({ addFilmInputValue: event.target.value });\n\n    console.log('value is:', event.target.value);\n  };\n  \n  getList= () => {\n    axios.get(BACKEND_BASE_URL).then((data) => data.data && data.data.meteos && this.setState({ meteos: data.data.meteos }));\n  }\n  \n  addMovie= () => {\n    axios.put(BACKEND_BASE_URL, { meteo: this.state.addFilmInputValue }).then((data) => this.getList());\n  }\n  \n  deleteMovie= (id) => {\n    axios.delete(`${BACKEND_BASE_URL}/${id}`).then((data) => this.getList());\n  }\n  \n  renderCategory = (label, action) => {\n    return (<div className='category'>\n    <Button text={label} onClick={action} />\n    </div>)\n  }\n  \n  render() {  \n    const { meteos, addFilmInputValue} = this.state;\n\n    return (\n      <div>\n        {this.renderCategory('Refresh', this.getList)}\n        <div className='category'>\n              <input\n                type=\"text\"\n                id=\"addFilm\"\n                name=\"addFilm\"\n                onChange={this.addFilmInputChange}\n                value={addFilmInputValue}\n              />\n            <Button text={'Add movie'} onClick={this.addMovie} />\n        </div>\n\n        <div className='meteos'>\n          {map(meteos, (meteo, index) => <Meteo key={`movie-${index}`} infos={meteo} deleteMovie={this.deleteMovie}/>)}\n        </div>\n      </div>\n      )\n    }\n  }"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}